<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Portal</title>
  <script src="https://cdn.tailwindcss.com"></script>
  <link rel="preconnect" href="https://fonts.googleapis.com" />
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600&family=JetBrains+Mono:wght@400;700&display=swap" rel="stylesheet" />
  <link rel="stylesheet" href="styles.css" />
  <style>
    :root {
      --bg-dark: #0f1113;
      --surface: #1a1d21;
      --accent: #5dbbff;
      --success: #7cfc00;
      --text-dim: #9ca3af;
    }
    body {
      background-color: var(--bg-dark);
      color: white;
      font-family: 'Inter', sans-serif;
    }
    .mono { font-family: 'JetBrains Mono', monospace; }
    .input-field {
      background-color: var(--surface);
      border: 1px solid #2d3139;
      transition: all 0.2s ease;
    }
    .input-field:focus {
      border-color: var(--accent);
      outline: none;
      box-shadow: 0 0 0 2px rgba(93, 187, 255, 0.2);
    }
    .bank-card {
      background: var(--surface);
      border: 1px solid #2d3139;
      cursor: pointer;
      transition: all 0.2s;
    }
    .bank-card:hover { border-color: #4b5563; }
    .bank-card.selected {
      border-color: var(--accent);
      background: rgba(93, 187, 255, 0.05);
    }
    .upload-zone {
      border: 2px dashed #2d3139;
      background: rgba(26, 29, 33, 0.5);
      transition: all 0.3s ease;
      cursor: pointer;
    }
    .upload-zone:hover {
      border-color: var(--accent);
      background: rgba(93, 187, 255, 0.02);
    }
    .upload-zone.dragover { border-color: var(--accent); }
    .upload-zone.has-file {
      border-color: var(--success);
      color: #86efac;
    }
    input[type="checkbox"] {
      appearance: none;
      width: 18px;
      height: 18px;
      border: 2px solid #4b5563;
      border-radius: 3px;
      background-color: transparent;
      display: inline-grid;
      place-content: center;
      cursor: pointer;
      flex-shrink: 0;
    }
    input[type="checkbox"]::before {
      content: "";
      width: 10px;
      height: 10px;
      transform: scale(0);
      transition: 120ms transform ease-in-out;
      box-shadow: inset 1em 1em var(--accent);
      background-color: CanvasText;
      clip-path: polygon(14% 44%, 0 65%, 50% 100%, 100% 16%, 80% 0%, 43% 62%);
    }
    input[type="checkbox"]:checked::before { transform: scale(1); }
    input[type="checkbox"]:checked { border-color: var(--accent); }
    .submit-btn {
      background-color: var(--success);
      color: #000;
      font-weight: 700;
      transition: transform 0.1s;
    }
    .submit-btn:hover {
      filter: brightness(1.1);
      box-shadow: 0 0 20px rgba(124, 252, 0, 0.2);
    }
    .submit-btn:active { transform: scale(0.98); }
    .portal-page .form-error-msg { color: #ef2929; font-size: 0.8rem; margin-bottom: 0.5rem; }
    .portal-page .thanks-msg { text-align: center; padding: 2rem 0; color: var(--text-dim); line-height: 1.7; }
    .portal-page .confirmed-msg { color: var(--success); margin-top: 1rem; }
    .portal-page .sign-out { margin-top: 2rem; }
    .portal-page .sign-out a { color: var(--accent); font-size: 0.85rem; }
    .banks-list { display: grid; grid-template-columns: repeat(2, 1fr); gap: 0.75rem; }
    @media (min-width: 640px) { .banks-list { grid-template-columns: repeat(3, 1fr); } }
    .banks-list label { margin-bottom: 0; }
    #statusCard.status-approved { border-color: rgba(124, 252, 0, 0.4); background: rgba(124, 252, 0, 0.05); }
    #statusCard.status-approved #statusLabel { color: #7cfc00; }
    #statusCard.status-not-approved { border-color: #4b5563; }
    #statusCard.status-not-approved #statusLabel { color: #9ca3af; }
  </style>
</head>
<body class="p-4 md:p-8 min-h-screen">
  <div class="portal-page max-w-2xl mx-auto">
    <div id="loadingEl" class="text-gray-400 mono">Loadingâ€¦</div>
    <div id="accessDeniedEl" hidden class="text-gray-300">
      <p>You do not have access to the portal. <a href="login.html" class="text-[#5dbbff] hover:underline">Sign in</a></p>
    </div>
    <div id="onboardingEl" hidden>
      <header class="mb-8">
        <h1 class="text-2xl font-bold mono tracking-tight text-[#5dbbff] uppercase">Complete your details</h1>
        <div class="mt-4 p-4 bg-[#1a1d21] border-l-4 border-[#5dbbff] text-sm text-gray-300 leading-relaxed">
          Submitting this information does not mean you automatically receive the money and ongoing payment. We need to confirm your details are legitimate and usable first. Don't submit if you don't want to.
        </div>
      </header>
      <p id="formError" class="form-error-msg" hidden></p>
      <form id="onboardingForm" class="space-y-8">
        <div class="space-y-6">
          <div>
            <label class="block mono text-xs font-bold uppercase text-[#5dbbff] mb-2 tracking-widest">Date of birth *</label>
            <input type="date" name="date_of_birth" required class="w-full input-field rounded px-4 py-3 text-white" />
          </div>
          <div>
            <label class="block mono text-xs font-bold uppercase text-[#5dbbff] mb-2 tracking-widest">Address *</label>
            <input type="text" name="address" required placeholder="Full address" class="w-full input-field rounded px-4 py-3 text-white placeholder-gray-600" />
          </div>
          <div>
            <label class="block mono text-xs font-bold uppercase text-[#5dbbff] mb-2 tracking-widest">Referrer *</label>
            <input type="text" name="referrer" required class="w-full input-field rounded px-4 py-3 text-white placeholder-gray-600" />
          </div>
          <div>
            <label class="block mono text-xs font-bold uppercase text-[#5dbbff] mb-2 tracking-widest">All previous betting accounts *</label>
            <p class="text-[10px] text-gray-500 mb-2">(TAB, SPORTSBET, BET 365, ETC.)</p>
            <textarea name="previous_betting_accounts" required placeholder="List any existing betting accounts..." rows="4" class="w-full input-field rounded px-4 py-3 text-white placeholder-gray-600 resize-none"></textarea>
          </div>
        </div>

        <section class="pt-4">
          <label class="block mono text-xs font-bold uppercase text-[#5dbbff] mb-1 tracking-widest">Select managed banks *</label>
          <p class="text-sm text-gray-400 mb-4">Choosing one of the banks below + ING may qualify you for an extra $125.</p>
          <div class="banks-list" id="banksList"></div>
        </section>

        <section class="space-y-6 pt-4">
          <div>
            <label class="block mono text-xs font-bold uppercase text-[#5dbbff] mb-2 tracking-widest">Selfie ID *</label>
            <p class="text-[10px] text-gray-500 mb-3">(To verify the individual signing up)</p>
            <div class="upload-zone rounded-lg p-8 text-center" id="selfieZone" data-placeholder="Drop file here or browse">
              <span class="upload-text text-sm text-gray-400">Drop file here or <span class="text-[#5dbbff]">browse</span></span>
            </div>
            <input type="file" id="selfieInput" accept="image/*,.pdf" class="hidden" />
          </div>
          <div class="grid grid-cols-1 sm:grid-cols-2 gap-4">
            <div>
              <label class="block mono text-xs font-bold uppercase text-[#5dbbff] mb-2 tracking-widest">Front of license *</label>
              <div class="upload-zone rounded-lg p-6 text-center" id="licenseFrontZone" data-placeholder="Click to upload">
                <span class="upload-text text-sm text-gray-400">Click to upload</span>
              </div>
              <input type="file" id="licenseFrontInput" accept="image/*,.pdf" class="hidden" />
            </div>
            <div>
              <label class="block mono text-xs font-bold uppercase text-[#5dbbff] mb-2 tracking-widest">Back of license *</label>
              <div class="upload-zone rounded-lg p-6 text-center" id="licenseBackZone" data-placeholder="Click to upload">
                <span class="upload-text text-sm text-gray-400">Click to upload</span>
              </div>
              <input type="file" id="licenseBackInput" accept="image/*,.pdf" class="hidden" />
            </div>
          </div>
        </section>

        <!-- Bank details -->
        <section class="space-y-6 pt-4">
          <h2 class="mono text-xs font-bold uppercase text-[#5dbbff] tracking-widest">Bank details</h2>
          <p class="text-sm text-gray-400 -mt-4">We need these to send your payments. All details are kept secure.</p>
          <div>
            <label class="block mono text-xs font-bold uppercase text-[#5dbbff] mb-2 tracking-widest">Account name *</label>
            <input type="text" name="bank_account_name" required placeholder="e.g. John Smith" class="w-full input-field rounded px-4 py-3 text-white placeholder-gray-600" />
          </div>
          <div class="grid grid-cols-1 sm:grid-cols-2 gap-4">
            <div>
              <label class="block mono text-xs font-bold uppercase text-[#5dbbff] mb-2 tracking-widest">BSB *</label>
              <input type="text" name="bank_bsb" required placeholder="e.g. 062-000" class="w-full input-field rounded px-4 py-3 text-white placeholder-gray-600" />
            </div>
            <div>
              <label class="block mono text-xs font-bold uppercase text-[#5dbbff] mb-2 tracking-widest">Account number *</label>
              <input type="text" name="bank_account_number" required placeholder="e.g. 12345678" class="w-full input-field rounded px-4 py-3 text-white placeholder-gray-600" />
            </div>
          </div>
          <div>
            <label class="block mono text-xs font-bold uppercase text-[#5dbbff] mb-2 tracking-widest">PayID (optional)</label>
            <input type="text" name="bank_pay_id" placeholder="e.g. phone number or email" class="w-full input-field rounded px-4 py-3 text-white placeholder-gray-600" />
          </div>
        </section>

        <section class="space-y-4 pt-4 border-t border-[#2d3139]">
          <label class="flex items-start gap-3 cursor-pointer group">
            <input type="checkbox" name="accept_betting_tcs" required class="mt-0.5" />
            <span class="text-xs uppercase mono text-gray-400 group-hover:text-white transition-colors">Accepting Betting accounts T&Cs *</span>
          </label>
          <label class="flex items-start gap-3 cursor-pointer group">
            <input type="checkbox" name="accept_bank_paypal_tcs" required class="mt-0.5" />
            <span class="text-xs uppercase mono text-gray-400 group-hover:text-white transition-colors">Accepting Bank and Paypal T&Cs *</span>
          </label>
          <label class="flex items-start gap-3 cursor-pointer group">
            <input type="checkbox" name="confirm_details" required class="mt-0.5" />
            <span class="text-xs uppercase mono text-gray-400 group-hover:text-white transition-colors text-balance">Confirming the details you entered are yours *</span>
          </label>
        </section>

        <div class="pt-6 pb-12">
          <button type="submit" class="submit-btn w-full py-4 rounded-lg text-lg uppercase tracking-widest mono shadow-lg">Submit application</button>
        </div>
      </form>
    </div>
    <!-- Dashboard (after form submitted) -->
    <div id="thanksEl" hidden class="pt-6 pb-12">
      <header class="flex items-center justify-between mb-8">
        <h1 class="text-xl font-bold mono tracking-tight text-[#5dbbff] uppercase">Your application</h1>
        <a href="account.html" class="text-sm mono text-gray-400 hover:text-[#5dbbff] transition-colors flex items-center gap-2">
          <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"/></svg>
          Account
        </a>
      </header>

      <!-- Status card -->
      <div id="statusCard" class="rounded-xl border border-[#2d3139] bg-[#1a1d21] p-6 mb-6">
        <p class="text-xs mono uppercase tracking-widest text-gray-500 mb-2">Application status</p>
        <p id="statusLabel" class="text-lg font-semibold mono text-white">Pending review</p>
        <p id="statusSubtext" class="text-sm text-gray-400 mt-1">We're checking your details. We'll be in touch within 24 hours.</p>
        <p id="confirmedLine" class="text-sm text-[#7cfc00] mt-2 hidden">You're approved. We'll be in touch with next steps.</p>
      </div>

      <!-- Reassurance -->
      <div class="p-4 bg-[#1a1d21] border-l-4 border-[#5dbbff] rounded-r-lg mb-8">
        <p class="text-sm text-gray-300 leading-relaxed">
          Thanks for submitting. Your information is safe and we've received everything we need. We will contact you within 24 hours to confirm your details and see if you qualify for $100 upfrontand $25 weekly.
        </p>
      </div>

      <!-- Telegram CTA -->
      <div id="telegramCard" class="rounded-xl border border-[#2d3139] bg-[#1a1d21] p-6 mb-8 hover:border-[#5dbbff] transition-colors">
        <a id="telegramLink" href="#" target="_blank" rel="noopener" class="block group">
          <div class="flex items-center gap-4">
            <div class="w-12 h-12 rounded-lg bg-[#27A7E7] flex items-center justify-center flex-shrink-0">
              <svg class="w-7 h-7 text-white" viewBox="0 0 24 24" fill="currentColor"><path d="M11.944 0A12 12 0 1 0 24 12.056A12.014 12.014 0 0 0 11.944 0Zm5.654 8.22l-1.636 7.706c-.12.54-.44.67-.9.42l-2.48-1.828-1.2 1.152a.627.627 0 0 1-.5.244l.18-2.508 4.56-4.12c.2-.176-.044-.274-.308-.098l-5.64 3.552-2.428-.756c-.528-.166-.54-.528.11-.782l9.484-3.656c.44-.16.824.108.68.782Z"/></svg>
            </div>
            <div class="flex-1">
              <p class="font-semibold text-white group-hover:text-[#5dbbff] transition-colors">Join the community</p>
              <p class="text-sm text-gray-400">Learn different ways to earn and stay updated.</p>
            </div>
            <svg class="w-5 h-5 text-gray-500 group-hover:text-[#5dbbff] transition-colors flex-shrink-0" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7"/></svg>
          </div>
        </a>
      </div>

      <div class="border-t border-[#2d3139] pt-6">
        <a href="#" id="signOutLink" class="text-sm text-gray-500 hover:text-[#5dbbff] transition-colors mono">Sign out</a>
      </div>
    </div>
  </div>
  <script src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js@2"></script>
  <script src="config.build.js"></script>
  <script src="banks.js"></script>
  <script src="portal.js"></script>
</body>
</html>
